{extend name="public/admin_form" /}

{block name="body"}
  <form class="layui-form" lay-filter="addon-form-reptiles" id="addon-form-reptiles" >
    <div class="mainBox">
      <div class="main-container">
        <div class="layui-form-item">
          <label class="layui-form-label">名称</label>
          <div class="layui-input-block">
            <input type="text" name="name" lay-verify="required" placeholder="目标站点名" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">链接</label>
          <div class="layui-input-block">
            <input type="text"  name="url" lay-verify="required|url" placeholder="请输入采集栏目链接固定部分"  class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <div class="layui-inline">
            <label class="layui-form-label">页面范围</label>
            <div class="layui-input-inline" style="width: 100px;">
              <input type="text" name="start" lay-verify="number" placeholder="start" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid">-</div>
            <div class="layui-input-inline" style="width: 100px;">
              <input type="text" name="end" lay-verify="number" placeholder="end" autocomplete="off" class="layui-input">
            </div>
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">切片选择器</label>
          <div class="layui-input-block">
            <input type="text" name="range" lay-verify="" placeholder="切片：.ulcl>li" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">列表title</label>
          <div class="layui-input-block">
            <input type="text" name="list_title" lay-verify="required" placeholder="例：h2>a" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">列表href</label>
          <div class="layui-input-block">
            <input type="text" name="list_link" lay-verify="required" placeholder="例：h2>a" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">缩略图</label>
          <div class="layui-input-block">
            <input type="text" name="list_img" lay-verify="" placeholder="例：.list_thumbnail>img" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">列表描述</label>
          <div class="layui-input-block">
            <input type="text" name="list_desc" lay-verify="" placeholder="例：.memo" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">单页标题</label>
          <div class="layui-input-block">
            <input type="text" name="single_title" lay-verify="" placeholder="例：h1" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">单页内容</label>
          <div class="layui-input-block">
            <input type="text" name="single_content" lay-verify="required" placeholder="例：.post_content" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">过滤内容</label>
          <div class="layui-input-block">
            <input type="text" name="single_remove_content" lay-verify="" placeholder="例：.post_content" autocomplete="off" class="layui-input">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">绑定分类</label>
          <div class="layui-input-block">
            <select name="cate_id" lay-verify="required">
              {volist name="cate" id="vo"}
              <option value="{$vo.id}">{$vo.catename}</option>
              {/volist}
            </select>
          </div>
        </div>
        <div class="layui-form-item">
          <label class="layui-form-label">绑定作者</label>
          <div class="layui-input-block">
            <select name="user_id" lay-verify="required">
              {volist name="user" id="vo"}
              <option value="{$vo.id}">{$vo.name}</option>
              {/volist}
            </select>
          </div>
        </div>
        <div class="layui-form-item layui-hide">
          <input type="button" lay-submit lay-filter="LAY-app-submit" id="LAY-app-submit" value="确认">
        </div>
      </div>
    </div>
    <div class="bottom layui-hide">
      <div class="button-container">
        <button type="submit" class="pear-btn pear-btn-primary pear-btn-sm" lay-submit="reptiles-submit" id="reptiles-submit" lay-filter="reptiles-submit">
          <i class="layui-icon layui-icon-ok"></i>
          提交
        </button>
      </div>
    </div>
  </form>

{/block}
{block name="js"}
<script>
    layui.use(['upload'], function(){
      var $ = layui.jquery
      ,upload = layui.upload ;
      
      upload.render({
        elem: '#layuiadmin-upload-app'
        ,url: 'uploadImg'
        ,accept: 'images'
        ,data: {type:'image'}
        ,field: 'file'
        ,method: 'get'
        ,acceptMime: 'image/*'
        ,done: function(res){
            $("input[name='app_image']").val(res.image);
            if(res.code == 0){
                layer.msg(res.msg,{
                    icon:6,
                    tiye:2000
                });
            } else {
                layer.open({
                    title:"上传失败",
                    content:res.msg,
                    icon:5,
                    anim:6
                });
            }
        }
      });
    })
    </script>
{/block}