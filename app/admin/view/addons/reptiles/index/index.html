{extend name="public/admin_base" /}

{block name="body"}
    <div class="layui-card">
        <div class="layui-card-body">
            <table id="addon-reptiles-table" lay-filter="addon-reptiles-table"></table>
        </div>
    </div>
    <script type="text/html" id="titleTpl">
        <ul>
          <li>站点：{{ d.name }}</li>
          <li>目标url：{{ d.url }}</li>
          <li>页码：{{ d.start }} - {{ d.end }}</li>
        </ul>
    </script>
    <script type="text/html" id="infoTpl">
        <ul>
          <li>api-host：{{ d.domain }}</li>
          <li>UID：{{ d.uid }} s</li>
          <li>当前页：{{ d.page }}</li>
          <li>入库数：{{ d.idsnum }}</li>
        </ul>
    </script>
    <script type="text/html" id="configTpl">
        <ul>
          <li>切片：{{ d.range }}</li>
          <li>列表title：{{ d.list_title }}</li>
          <li>列表href：{{ d.list_link }}</li>
          <li>列表img：{{ d.list_img }}</li>
          <li>列表desc：{{ d.list_desc }}</li>
          <li>单页title：{{ d.single_title }}</li>
          <li>单页content：{{ d.single_content }}</li>
        </ul>
    </script>
    <script type="text/html" id="reptiles-toolbar">
        <button class="pear-btn pear-btn-primary pear-btn-md" lay-event="add" >
            <i class="layui-icon layui-icon-add-1"></i>
            新增
        </button>
        <button class="pear-btn pear-btn-danger pear-btn-md" lay-event="batchRemove">
            <i class="layui-icon layui-icon-delete"></i>
            删除
        </button>
    </script>
    <script type="text/html" id="reptiles-tool">
        <button class="layui-btn layui-btn-normal layui-btn-xs" lay-event="start" data-url="{:url('addons.reptiles.index/start')}"><i class="layui-icon layui-icon-android"></i>启动</button>
        <button class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit" data-url="{:url('addons.reptiles.index/add')}"><i class="layui-icon layui-icon-edit"></i></button>
        <button class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del" data-url="{:url('addons.reptiles.index/delete')}"><i class="layui-icon layui-icon-delete"></i></button>
    </script>
    <script type="text/html" id="reptiles-status">
        <input type="checkbox" name="status" value="{{d.id}}" lay-skin="switch" lay-text="下发|禁用" lay-filter="reptiles-status" {{ d.status == 1 ? 'checked' : '' }}>
    </script>

  
{/block}
{block name="js"}
<script>
    var reptilesList = "{:url('addons.reptiles.index/index')}";
    var ADD_URL = "{:url('addons.reptiles.index/add')}";
    var CHECK_URL = "{:url('addons.reptiles.index/setStatus')}";

  layui.extend({
      reptiles: '{/}/static/addons/reptiles/js/reptiles'
  }).use(['reptiles'], function(){

  });
</script>
{/block}